# 前端技术规范

1. **Next.js App Router**、**shadcn/ui + Stitches + Tailwind CSS** 技术栈
2. Zustand 状态管理
3. 数据请求 TanStack Query
4. Wagmi, Viem, Reown AppKit
5. k线 TradingView图表
6. UI组件 shadcn/ui
7. 动画 lenis + Framer Motion
8. WebSocket
9. 支持ai 自动mock数据(开发环境)
10. 国际化i18
11. 主题 Stitches
12. eslint+ prettier + 代码提交工程化文档参考(
    https://chainupgroup.sg.larksuite.com/wiki/BsRvwBR8CimkToknJeYlmcGigkc,
    https://chainupgroup.sg.larksuite.com/wiki/V21RwJIU9i3jdKk0a9Vl3qEzgld
    )
13. 环境要求

- Node.js >= 18
- Yarn >= 1.22
- nextjs 15
- react 19

将以上要求简洁的融入到 [CLAUDE.md](../../CLAUDE.md)规范中

## 自动化工作流

### 触发机制

| 触发时机        | 任务                 | 配置文件                      |
| --------------- | -------------------- | ----------------------------- |
| `git commit` 前 | 代码格式校验 + Lint  | `.husky/pre-commit`           |
| `git commit` 时 | 提交信息规范校验     | `.husky/commit-msg`           |
| `git commit` 后 | CHANGELOG 自动生成   | `.husky/post-commit`          |
| 手动执行        | i18n 文案提取 + 翻译 | `i18next-scanner.config.js`   |
| 手动执行        | 代码合规检查         | `scripts/check-compliance.js` |

### npm scripts

```bash
yarn lint          # ESLint 检查
yarn lint:fix      # ESLint 自动修复
yarn format        # Prettier 格式化
yarn format:check  # Prettier 格式检查
yarn i18n:scan     # i18n 扫描 + 自动翻译
yarn compliance    # 代码合规性检查（生成报告）
```

### 配置文件说明

| 文件                          | 说明                                       |
| ----------------------------- | ------------------------------------------ |
| `.husky/pre-commit`           | lint-staged 执行 ESLint + Prettier         |
| `.husky/commit-msg`           | Conventional Commits 提交信息校验          |
| `.husky/post-commit`          | 自动追加 CHANGELOG.md                      |
| `commitlint.config.js`        | 提交信息规范配置                           |
| `.lintstagedrc.js`            | lint-staged 配置                           |
| `i18next-scanner.config.js`   | i18n 扫描配置（CRC32 Hash Key + 自动翻译） |
| `scripts/check-compliance.js` | 合规检查脚本                               |

### 输出文件

| 文件                                       | 生成方式 | 说明                       |
| ------------------------------------------ | -------- | -------------------------- |
| `CHANGELOG.md`                             | 自动     | Git 提交后自动追加         |
| `notes/analysis/code-compliance-report.md` | 手动     | `yarn compliance` 生成     |
| `public/locales/{lang}/translation.json`   | 手动     | `yarn i18n:scan` 生成/更新 |
